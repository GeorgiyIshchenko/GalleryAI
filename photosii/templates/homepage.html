{% extends 'base.html' %}

{% block body %}

{% include "navbar.html" %}
{% if add_tag %}
<div class="alert alert-danger my-5 text-center" role="alert">
    Создайте проект, для того чтобы начать обучение.
</div>
{% endif %}
{% if dropdown %}

<style>
    .image_class {
        background-image: url("{{random_photo.full_image.url}}");
        background-color: rgba(255, 255, 255, 0.6);
        background-blend-mode: lighten;
        background-size: cover;
    }
</style>

<div class=" image_class position-relative overflow-hidden p-3 p-md-5 text-center d-flex" id="content">
    <div class="col-md-5 p-lg-5 mx-auto my-5">
        <h1 class="display-4 fw-normal">{{ current_tag | title}}</h1>
        <form class="d-flex justify-content-center mt-3" action="{% url 'photosii:homepage' %}" method="GET"
              enctype="multipart/form-data">
            <div class="form-group mx-2 d-flex justify-content-center" style="width:250px;"><select
                    onchange="this.form.submit()"
                    name="tag" class="form-control form-select"
                    title=""
                    id="id_tag">
                <option class="fs-5 text-muted" value="{{ current_tag.id }}">Выбрать проект</option>
                {% for tag in tags %}
                <option class="fs-5 text-muted" value="{{ tag.id }}">{{ tag.name|title }}</option>
                {% endfor %}

            </select></div>
        </form>
    </div>
    <div class="product-device shadow-sm d-none d-md-block"></div>
    <div class="product-device product-device-2 shadow-sm d-none d-md-block"></div>
</div>

{% endif %}

<style>
    .scale {
        transition: 1s; /* Время эффекта */
    }

    .scale:hover {
        transform: scale(1.2); /* Увеличиваем масштаб */
    }
</style>

<div class="d-md-flex flex-md-equal w-100">
    {% for tag, data in data.items %}
    <div class="bg-{{data.color}} pt-md-5 px-md-5 text-center text-{{data.text}} overflow-hidden w-50">
        <div class="mb-5 py-3">
            <h2 class="display-5">{{ tag |title }}</h2>
        </div>
        <div class="bg-{{data.text}} box-shadow"
             style="display: flex; flex-wrap: wrap; justify-content: left;width: 100%; min-height:320px; border-radius: 21px 21px 0px 0px; overflow:hidden">
            {% for photo in data.photos.all %}
            <div style="flex: 0 1 calc(100%/5);">
                <a style="width: 100%;" href="{{ photo.get_absolute_url }}">
                    <img class="scale" style="width: 100%; height: 160px; object-fit: cover" src="{{ photo.image.url }}"
                         alt="{{ photo.get_absolute_url }}">
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endfor %}
</div>

<div class="image_class position-relative overflow-hidden p-3 text-center d-flex" id="content">
    <div class="mx-auto">
        <h1 class="display-4 fw-normal">Trained on</h1>
    </div>
    <div class="product-device shadow-sm d-none d-md-block"></div>
    <div class="product-device product-device-2 shadow-sm d-none d-md-block"></div>
</div>

<div class="d-md-flex flex-md-equal w-100">
    {% for tag, data in data_trained.items %}
    <div class="bg-{{data.color}} pt-md-5 px-md-5 text-center text-{{data.text}} overflow-hidden w-50">
        <div class="mb-5 py-3">
            <h2 class="display-5">{{ tag |title }}</h2>
        </div>
        <div class="bg-{{data.text}} box-shadow"
             style="display: flex; flex-wrap: wrap; justify-content: left;width: 100%; min-height:320px; border-radius: 21px 21px 0px 0px; overflow:hidden">
            {% for photo in data.photos.all %}
            <div style="flex: 0 1 calc(100%/5);">
                <a style="width: 100%;" href="{{ photo.get_absolute_url }}">
                    <img class="scale" style="width: 100%; height: 160px; object-fit: cover" src="{{ photo.image.url }}"
                         alt="{{ photo.get_absolute_url }}">
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
